{% extends "base.html" %}

{% block title %}Edit News - Admin{% endblock %}

{% block content %}
<div class="container">
    <h1>Edit News Item</h1>
    
    <div style="max-width: 800px; margin-top: 2rem;">
        <form method="POST" action="{{ url_for('edit_news', news_id=news.id) }}" enctype="multipart/form-data">
            <div class="form-group">
                <label for="title">Title</label>
                <input type="text" id="title" name="title" value="{{ news.title }}" required>
            </div>

            <div class="form-group">
                <label for="category">Category</label>
                <select id="category" name="category" required>
                    <option value="News" {% if news.category == 'News' %}selected{% endif %}>News</option>
                    <option value="Event" {% if news.category == 'Event' %}selected{% endif %}>Event</option>
                    <option value="Newsletter" {% if news.category == 'Newsletter' %}selected{% endif %}>Newsletter</option>
                    <option value="Announcement" {% if news.category == 'Announcement' %}selected{% endif %}>Announcement</option>
                </select>
            </div>

            <div class="form-group">
                <label for="content">Content</label>
                <textarea id="content" name="content" required style="min-height: 200px;">{{ news.content }}</textarea>
            </div>

            {% if news.image_path %}
            <div class="form-group">
                <label>Current Image</label>
                <img src="{{ url_for('static', filename=news.image_path) }}" alt="Current" style="max-width: 200px; border-radius: 5px;">
            </div>
            {% endif %}

            <div class="form-group">
                <label for="image">Change Image (optional)</label>
                <input type="file" id="image" name="image" accept="image/*">
            </div>

            <div style="display: flex; gap: 1rem;">
                <button type="submit" class="btn btn-primary">Update News</button>
                <a href="{{ url_for('manage_news') }}" class="btn btn-secondary">Cancel</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}
