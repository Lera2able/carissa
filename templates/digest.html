{% extends "base.html" %}

{% block title %}School Digest - Carissa Primary School{% endblock %}

{% block content %}
<div class="hero" style="padding: 2rem;">
    <h1>School Digest</h1>
    <p>Stay informed with the latest news, events and newsletters</p>
</div>

<div class="container">
    {% if news_items %}
        <div class="news-grid">
            {% for news in news_items %}
            <div class="news-card">
                {% if news.image_path %}
                <img src="{{ url_for('static', filename=news.image_path) }}" alt="{{ news.title }}" class="news-image">
                {% else %}
                <div style="width: 100%; height: 200px; background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));"></div>
                {% endif %}
                <div class="news-content">
                    <span class="news-category">{{ news.category or 'General' }}</span>
                    <h3 class="news-title">{{ news.title }}</h3>
                    <p class="news-excerpt">{{ news.content[:150] }}{% if news.content|length > 150 %}...{% endif %}</p>
                    <div class="news-date">{{ news.created_at }}</div>
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <div style="text-align: center; padding: 4rem; color: var(--text-light);">
            <h3>No news items yet</h3>
            <p>Check back soon for updates from our school community!</p>
        </div>
    {% endif %}
</div>
{% endblock %}
